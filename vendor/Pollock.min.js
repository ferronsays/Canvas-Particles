Pollock=function(){function a(b){this.settings={canvasID:null,clear:!0,fullscreen:!1,mousemove:function(){},mousedown:function(){},mouseup:function(){},click:function(){}},a.extend(this.settings,b,!0),this.dt=0,this.currentTime=(new Date).getTime(),this.canvas=document.getElementById(this.settings.canvasID),this.settings.fullscreen&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),this.width=this.canvas.width,this.height=this.canvas.height,this.context=this.canvas.getContext("2d"),this.entities=[]}return a.extend=function(a,b,c){for(var d in b)(c||a.hasOwnProperty(d))&&(a[d]=b[d]);return a},a.randomNegativeOneToOne=function(){return 2*Math.random()-1},a.degreesToRadians=function(a){return a*Math.PI/180},a.radiansToDegrees=function(a){return 180*a/Math.PI},a.wrapAngle=function(a){for(;a<-Math.PI;)a+=2*Math.PI;for(;a>Math.PI;)a-=2*Math.PI;return a},a.randomInRange=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},a.prototype.getCanvasContext=function(){return this.context},a.prototype.enable=function(){function a(){c.resize()}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame}(),this.animate((new Date).getTime()),this.canvas.onmousemove=this.settings.mousemove,this.canvas.onmousedown=this.settings.mousedown,this.canvas.onmouseup=this.settings.mouseup,this.canvas.onclick=this.settings.click;var b,c=this;return window.onresize=function(){clearTimeout(b),b=setTimeout(a,100)},this},a.prototype.animate=function(a){var b=this;this.animationFrame=requestAnimFrame(function(){b.animate((new Date).getTime())});var c=a-this.currentTime;this.currentTime=a,this.update(c)},a.prototype.disable=function(){return window.cancelAnimFrame(this.animationFrame),this},a.prototype.resize=function(){this.settings.fullscreen&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height)},a.prototype.addChild=function(a){this.entities.push(a)},a.prototype.update=function(a){this.draw();for(var b=this.entities.length;b--;){var c=this.entities[b];c.update(a),c.alive?this.entities[b].draw(this.context):this.entities.splice(b,1)}},a.prototype.draw=function(){this.settings.clear&&(this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle="transparent",this.context.fillRect(0,0,this.width,this.height))},a}();